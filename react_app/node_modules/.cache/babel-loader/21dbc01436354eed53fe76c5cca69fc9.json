{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\\\u05DE\\u05E8\\u05E7\\u05D5\\u05D1\\u05E1\\u05E7\\u05D9\\\\Desktop\\\\react_app\\\\src\\\\Components\\\\list_candidates.js\";\nimport React, { useState, useEffect } from 'react';\nimport data from './data.json';\nimport Candidate from './candidate';\nimport usetoken from '../usetoken';\nimport Login from '../Login';\nimport { Link } from 'react-router-dom';\nimport useToken from '../usetoken';\nexport default function Candid() {\n  const [arrayholder, setArrayholder] = useState([]);\n  const [array, setIArray] = useState([]);\n  const [visible, setVisible] = React.useState(false); // const [showbutton, setShow]=  React.useState(false);\n  // const [showindex, setShowindex]=  useState();\n\n  const [id, setId] = useState();\n  var arrr = [];\n\n  const logout = () => {\n    window.localStorage.removeItem(\"token\");\n    window.location.assign(\"http://localhost:3000/Login\");\n  };\n\n  const send_data = item => {\n    item -= 1; //console.log(item)\n\n    setId(item);\n    data.candidates.map((value, i) => {\n      if (i === item) {\n        const propertyValues = Object.entries(value);\n        setIArray(propertyValues);\n      }\n    });\n  }; // const check_id=(e)=>{  \n  //    setShowindex(e.target.id)\n  //   console.log(e.target.id)  \n  // }\n\n\n  const showlist = async () => {\n    const requesOptions = {\n      headers: {\n        \"authorization\": \"bearer \" + usetoken().getToken()\n      }\n    };\n    const response = await fetch('http://localhost:8080/api/candidates', requesOptions);\n    const responsdata = await response.json(); //    setArrayholder(responsdata);\n    //    console.log(arrayholder)\n    // console.log(responsdata);\n    // console.log(arrayholder)\n\n    responsdata.candidates.forEach(p => {\n      arrr.push(p);\n      console.log(p);\n      setArrayholder(arrayholder => [...arrayholder, p]); // console.log(arrayholder)\n    }); // function App() {\n    //   const [elements, setElements] = useState([]);\n    //   useEffect(() => {\n    //     const res = async () => {\n    //       const result = await axios.get('/data');\n    //       const data = result.data;\n    //       console.log(data);\n    //       setElements(elements => [...elements, data]);\n    //     };\n    //     res();\n    //   }, []);\n    //   console.log(elements);\n    //  console.log(arrr.length)\n    //  setArrayholder(arrr);\n    //  console.log(arrayholder)\n    // arrr.push(p)\n    // arrr.push(p)\n    // console.log(arrr)\n    // setArrayholder([...p,p]);\n    //  console.log('test1: ', p)\n    // candidat.push(p)\n    // console.log(arrayholder)\n    //   })\n    //   console.log('full arr:', arrayholder);\n    //   JSON.stringify(arrayholder)\n    //   arrayholder.map(n=>{\n    //     //    console.log(n)\n    //    })\n  }; // fetchDataAsync = async () => {\n  //     console.log('fetching data');\n  //     const requesOptions = {\n  //         headers: {\"authorization\": \"bearer \" + usetoken().getToken()}\n  //     }\n  //     await fetch(\n  //       'http://localhost:8080/api/candidates', requesOptions\n  //     )\n  //       .then(response => {\n  //         if (response.ok) {\n  //           return response.json();\n  //         }\n  //       })\n  //       .then(data => {\n  //         // if (data.results) {\n  //         //   runInAction(() => {\n  //         //     this.itemStore = data.results.sort((a, b) =>\n  //         //       a.name > b.name ? 1 : -1,\n  //         //     );\n  //         //   });\n  //         // }\n  //         console.log('data is:',data);\n  //       })\n  //       .catch(err => console.log(err));\n  //   };\n  //   JSON.parse(JSON.stringify(DressStore.itemSet)),\n\n\n  const [data, setData] = useState([]);\n  useEffect(() => {\n    fetch(\"https://api.github.com/users\").then(res => res.json()).then(setData).catch(console.error);\n  }, []);\n  useEffect(() => {\n    //    showlist()\n    const requesOptions = {\n      headers: {\n        \"authorization\": \"bearer \" + usetoken().getToken()\n      }\n    };\n    fetch('http://localhost:8080/api/candidates', requesOptions).then(res => res.json()).then(setArrayholder); //    console.log(p);\n\n    console.log(arrayholder);\n  }, []);\n  const token = usetoken().getToken();\n\n  if (!token) {\n    window.location.replace(\"/Login\");\n    return;\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    onClick: () => logout(),\n    className: \"logout\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 13\n    }\n  }, \"Press To Logout\"), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 13\n    }\n  }, \"test \", arrr.length), arrr.map((item, i) => {\n    return /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 17\n      }\n    }, \"aaa\");\n  }));\n}","map":{"version":3,"sources":["C:/Users/מרקובסקי/Desktop/react_app/src/Components/list_candidates.js"],"names":["React","useState","useEffect","data","Candidate","usetoken","Login","Link","useToken","Candid","arrayholder","setArrayholder","array","setIArray","visible","setVisible","id","setId","arrr","logout","window","localStorage","removeItem","location","assign","send_data","item","candidates","map","value","i","propertyValues","Object","entries","showlist","requesOptions","headers","getToken","response","fetch","responsdata","json","forEach","p","push","console","log","setData","then","res","catch","error","token","replace","length"],"mappings":"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","sourcesContent":["import React, { useState,useEffect } from 'react';\r\nimport data from './data.json'\r\nimport Candidate from'./candidate'\r\nimport usetoken from '../usetoken';\r\nimport Login from '../Login';\r\nimport { Link } from 'react-router-dom';\r\nimport useToken from '../usetoken';\r\n\r\nexport default function Candid() {\r\n    const [arrayholder,setArrayholder] =useState([])\r\nconst [array, setIArray]= useState([]);\r\nconst [visible, setVisible] = React.useState(false);\r\n// const [showbutton, setShow]=  React.useState(false);\r\n// const [showindex, setShowindex]=  useState();\r\nconst [id, setId]= useState();\r\nvar arrr=[];\r\nconst logout = () => {\r\n    window.localStorage.removeItem(\"token\");\r\n    window.location.assign(\"http://localhost:3000/Login\")\r\n}\r\n\r\nconst send_data=(item)=>{  \r\n  item-=1;\r\n//console.log(item)\r\n    setId(item)\r\n    data.candidates.map((value,i)=>{\r\n        if(i===item){\r\n            const propertyValues = Object.entries(value);\r\n            setIArray(propertyValues)\r\n        }\r\n    })\r\n   \r\n}\r\n\r\n\r\n\r\n// const check_id=(e)=>{  \r\n  \r\n//    setShowindex(e.target.id)\r\n//   console.log(e.target.id)  \r\n// }\r\nconst showlist=async()=>{\r\n    \r\n    const requesOptions = {\r\n         headers: {\"authorization\": \"bearer \" + usetoken().getToken()}\r\n     }\r\n       const response=await fetch('http://localhost:8080/api/candidates', requesOptions)\r\n        \r\n       const responsdata =await response.json()\r\n    //    setArrayholder(responsdata);\r\n    //    console.log(arrayholder)\r\n    // console.log(responsdata);\r\n   \r\n    \r\n    // console.log(arrayholder)\r\n     responsdata.candidates.forEach(p => {\r\n        arrr.push(p)\r\n        \r\n        console.log(p);\r\n        setArrayholder(arrayholder =>[...arrayholder,p]);\r\n        // console.log(arrayholder)\r\n     \r\n     })\r\n    \r\n// function App() {\r\n//   const [elements, setElements] = useState([]);\r\n\r\n//   useEffect(() => {\r\n//     const res = async () => {\r\n//       const result = await axios.get('/data');\r\n//       const data = result.data;\r\n//       console.log(data);\r\n//       setElements(elements => [...elements, data]);\r\n//     };\r\n//     res();\r\n//   }, []);\r\n\r\n//   console.log(elements);\r\n\r\n\r\n\r\n\r\n\r\n    //  console.log(arrr.length)\r\n    //  setArrayholder(arrr);\r\n    //  console.log(arrayholder)\r\n    // arrr.push(p)\r\n    // arrr.push(p)\r\n    // console.log(arrr)\r\n    // setArrayholder([...p,p]);\r\n    //  console.log('test1: ', p)\r\n    // candidat.push(p)\r\n    // console.log(arrayholder)\r\n    //   })\r\n      \r\n    //   console.log('full arr:', arrayholder);\r\n    //   JSON.stringify(arrayholder)\r\n    //   arrayholder.map(n=>{\r\n    //     //    console.log(n)\r\n    //    })\r\n    \r\n\r\n}\r\n\r\n// fetchDataAsync = async () => {\r\n//     console.log('fetching data');\r\n//     const requesOptions = {\r\n//         headers: {\"authorization\": \"bearer \" + usetoken().getToken()}\r\n//     }\r\n//     await fetch(\r\n//       'http://localhost:8080/api/candidates', requesOptions\r\n//     )\r\n//       .then(response => {\r\n//         if (response.ok) {\r\n//           return response.json();\r\n//         }\r\n//       })\r\n//       .then(data => {\r\n//         // if (data.results) {\r\n//         //   runInAction(() => {\r\n//         //     this.itemStore = data.results.sort((a, b) =>\r\n//         //       a.name > b.name ? 1 : -1,\r\n//         //     );\r\n//         //   });\r\n//         // }\r\n//         console.log('data is:',data);\r\n//       })\r\n//       .catch(err => console.log(err));\r\n//   };\r\n\r\n//   JSON.parse(JSON.stringify(DressStore.itemSet)),\r\n\r\nconst [data, setData] = useState([]);\r\nuseEffect(() => {\r\n    fetch(\"https://api.github.com/users\")\r\n        .then((res) => res.json())\r\n        .then(setData)\r\n        .catch(console.error);\r\n}, []);\r\n\r\n\r\n\r\nuseEffect(() => {\r\n//    showlist()\r\nconst requesOptions = {\r\n    headers: {\"authorization\": \"bearer \" + usetoken().getToken()}\r\n}\r\n   fetch('http://localhost:8080/api/candidates', requesOptions)\r\n  .then((res) => res.json())\r\n        .then(setArrayholder)\r\n   \r\n  \r\n//    console.log(p);\r\n    console.log(arrayholder);\r\n  }, [])\r\n\r\nconst token = usetoken().getToken();\r\nif(!token) {    \r\n    window.location.replace(\"/Login\")\r\n\r\nreturn;\r\n}\r\n    \r\n    return(\r\n    <div>\r\n            <Link onClick={()=>logout()} className=\"logout\">Press To Logout</Link>\r\n\r\n            <li>test {arrr.length}</li>\r\n\r\n    {\r\n         \r\n    arrr.map((item,i) => {\r\n\r\n            return(\r\n                <li>\r\n                    aaa\r\n                    {/* {item.email} */}\r\n                    {/* <button id={item.id} onClick={() => {send_data(item.id);setVisible(!visible);}} style={{ width:'50%' }}>   \r\n                   full name: {item.first_name + \" \" +item.last_name}\r\n                   <p>job_title:{item.job_title}</p>\r\n                   avatar:{item.avatar}\r\n\r\n\r\n                    {visible ? '' : ''}\r\n\r\n                    {\r\n            visible&&\r\n            <Candidate send_data={array}/> \r\n            \r\n            }\r\n                </button >  */}\r\n                \r\n                    \r\n                </li>\r\n                \r\n            \r\n                )\r\n        })\r\n\r\n\r\n        }\r\n        \r\n    </div>\r\n\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}