{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\\\u05DE\\u05E8\\u05E7\\u05D5\\u05D1\\u05E1\\u05E7\\u05D9\\\\Desktop\\\\react_app\\\\src\\\\Components\\\\list_candidates.js\";\nimport React, { Component } from 'react';\nimport usetoken from '../usetoken';\nimport { Link } from 'react-router-dom';\n\nclass Welcome extends Component {\n  constructor() {\n    super();\n\n    this.logout = () => {\n      window.localStorage.removeItem(\"token\");\n      window.location.assign(\"http://localhost:3000/Login\");\n    };\n\n    this.toggle = () => {\n      this.setState(currentState => ({\n        show: !currentState.show\n      }));\n    };\n\n    this.state = {\n      brand: [],\n      show: false\n    };\n    const token = usetoken().getToken();\n\n    if (!token) {\n      window.location.replace(\"/Login\");\n      return;\n    }\n  }\n\n  async componentDidMount() {\n    await this.allcandidates();\n  }\n\n  async allcandidates() {\n    const requesOptions = {\n      headers: {\n        \"authorization\": \"bearer \" + usetoken().getToken()\n      }\n    };\n    const response = await fetch('http://localhost:8080/api/candidates', requesOptions);\n    const responsdata = await response.json();\n    this.setState({\n      brand: responsdata.candidates\n    });\n    console.log(this.state.brand);\n  }\n\n  render() {\n    if (this.state && this.state.brand && this.state.brand.length) {\n      /*#__PURE__*/\n      React.createElement(Link, {\n        onClick: this.logout,\n        className: \"logout\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 13\n        }\n      }, \"Press To Logout\");\n      return this.state.brand.map(item => {\n        return /*#__PURE__*/React.createElement(\"li\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"button\", {\n          id: item.id,\n          onClick: this.toggle,\n          style: {\n            width: '50%'\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 25\n          }\n        }, \"full name: \", item.first_name + \" \" + item.last_name, /*#__PURE__*/React.createElement(\"p\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 21\n          }\n        }, \"job_title:\", item.job_title), \"avatar:\", item.avatar, this.state.show ? 'show' : 'hide', this.state.show && /*#__PURE__*/React.createElement(\"p\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 29\n          }\n        }, \"Hi there\")));\n      });\n    } else {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 17\n        }\n      }, \"No candidates\");\n    }\n  }\n\n}\n\nexport default Welcome;","map":{"version":3,"sources":["C:/Users/מרקובסקי/Desktop/react_app/src/Components/list_candidates.js"],"names":["React","Component","usetoken","Link","Welcome","constructor","logout","window","localStorage","removeItem","location","assign","toggle","setState","currentState","show","state","brand","token","getToken","replace","componentDidMount","allcandidates","requesOptions","headers","response","fetch","responsdata","json","candidates","console","log","render","length","map","item","id","width","first_name","last_name","job_title","avatar"],"mappings":"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","sourcesContent":["\r\nimport React ,{Component}from 'react';\r\nimport usetoken from '../usetoken';\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass Welcome extends Component {\r\n    constructor() {\r\n        super()\r\n        this.state = {brand: [], show: false,};\r\n\r\n        const token = usetoken().getToken();\r\nif(!token) {    \r\n    window.location.replace(\"/Login\")\r\n\r\nreturn;\r\n}\r\n    }\r\n\r\nasync componentDidMount(){\r\n    await this.allcandidates()\r\n}\r\n\r\nlogout = () => {\r\n    window.localStorage.removeItem(\"token\");\r\n    window.location.assign(\"http://localhost:3000/Login\")\r\n}\r\n        async allcandidates(){\r\n    \r\n            const requesOptions = {\r\n                 headers: {\"authorization\": \"bearer \" + usetoken().getToken()}\r\n             }\r\n               const response=await fetch('http://localhost:8080/api/candidates', requesOptions)\r\n                \r\n               const responsdata =await response.json()\r\n               this.setState({brand:responsdata.candidates})\r\n    \r\n    console.log(this.state.brand)\r\n        \r\n        }\r\n        \r\n\r\n          \r\n        toggle = () =>{\r\n             this.setState((currentState) => \r\n             ({show: !currentState.show}))\r\n\r\n            };\r\n\r\n    \r\n\r\n    render() {\r\n        \r\n        if (this.state && this.state.brand && this.state.brand.length) {\r\n            <Link onClick={this.logout} className=\"logout\">Press To Logout</Link>\r\n            return(\r\n                \r\n            this.state.brand.map(item=>{\r\n                return(\r\n                    <li>\r\n                        <button id={item.id}  onClick={this.toggle} style={{ width:'50%' }}>   \r\n                    full name: {item.first_name + \" \" +item.last_name}\r\n                    <p>job_title:{item.job_title}</p>\r\n                    avatar:{item.avatar}\r\n                    \r\n                    {this.state.show ? 'show' : 'hide'}  \r\n        {this.state.show && <p>Hi there</p>}\r\n\r\n                    </button>\r\n\r\n                    </li>\r\n                )\r\n            })\r\n        )\r\n        } else {\r\n            return(\r\n                <div>No candidates</div>\r\n            )\r\n        }\r\n    }\r\n    \r\n  }\r\n  export default Welcome;"]},"metadata":{},"sourceType":"module"}