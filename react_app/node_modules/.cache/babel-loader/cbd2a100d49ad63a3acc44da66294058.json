{"ast":null,"code":"export default function useToken() {\n  return {\n    saveToken,\n    getToken\n  };\n}\n\nfunction saveToken(userToken) {\n  localStorage.setItem('token', JSON.stringify(userToken));\n}\n\nfunction getToken() {\n  const token = localStorage.getItem('token');\n\n  if (token) {\n    const userToken = JSON.parse(token);\n    const expiresDate = new Date(userToken.expires);\n\n    if (expiresDate < new Date()) {\n      return \"\";\n    }\n\n    return userToken.token;\n  }\n\n  return \"\";\n}","map":{"version":3,"sources":["C:/Users/yishai/Desktop/shabas/shbas/react_app/src/usetoken.js"],"names":["useToken","saveToken","getToken","userToken","localStorage","setItem","JSON","stringify","token","getItem","parse","expiresDate","Date","expires"],"mappings":"AAEA,eAAe,SAASA,QAAT,GAAoB;AAC/B,SAAO;AACHC,IAAAA,SADG;AAEHC,IAAAA;AAFG,GAAP;AAIH;;AAED,SAASD,SAAT,CAAmBE,SAAnB,EAA8B;AAC1BC,EAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BC,IAAI,CAACC,SAAL,CAAeJ,SAAf,CAA9B;AACH;;AAED,SAASD,QAAT,GAAoB;AAChB,QAAMM,KAAK,GAAGJ,YAAY,CAACK,OAAb,CAAqB,OAArB,CAAd;;AACA,MAAID,KAAJ,EAAW;AACP,UAAML,SAAS,GAAGG,IAAI,CAACI,KAAL,CAAWF,KAAX,CAAlB;AACA,UAAMG,WAAW,GAAG,IAAIC,IAAJ,CAAST,SAAS,CAACU,OAAnB,CAApB;;AACA,QAAIF,WAAW,GAAG,IAAIC,IAAJ,EAAlB,EAA8B;AAC1B,aAAO,EAAP;AACH;;AACD,WAAOT,SAAS,CAACK,KAAjB;AACH;;AACD,SAAO,EAAP;AACH","sourcesContent":["\r\n\r\nexport default function useToken() {\r\n    return {\r\n        saveToken,\r\n        getToken\r\n    }\r\n}\r\n\r\nfunction saveToken(userToken) {\r\n    localStorage.setItem('token', JSON.stringify(userToken));\r\n}\r\n\r\nfunction getToken() {\r\n    const token = localStorage.getItem('token');\r\n    if (token) {\r\n        const userToken = JSON.parse(token);\r\n        const expiresDate = new Date(userToken.expires);        \r\n        if (expiresDate < new Date()) {\r\n            return \"\"\r\n        }\r\n        return userToken.token;\r\n    }\r\n    return \"\";\r\n}"]},"metadata":{},"sourceType":"module"}