{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\\\u05DE\\u05E8\\u05E7\\u05D5\\u05D1\\u05E1\\u05E7\\u05D9\\\\Desktop\\\\react_app\\\\src\\\\Components\\\\list_candidates.js\";\nimport React, { useState, useEffect } from 'react';\nimport data from './data.json';\nimport Candidate from './candidate';\nimport usetoken from '../usetoken';\nimport Login from '../Login';\nexport default function Candid() {\n  const token = usetoken().getToken();\n\n  if (!token) {\n    console.log(\"aaaa\");\n    window.location.replace(\"/Login\");\n    return;\n  }\n\n  const [users, SetCandidates] = useState([]);\n  const [array, setIArray] = useState([]);\n  const [visible, setVisible] = React.useState(false);\n  const [showbutton, setShow] = React.useState(false);\n  const [showindex, setShowindex] = useState();\n  const [id, setId] = useState();\n\n  const send_data = item => {\n    item -= 1; //console.log(item)\n\n    setId(item);\n    data.candidates.map((value, i) => {\n      if (i === item) {\n        const propertyValues = Object.entries(value);\n        setIArray(propertyValues);\n      }\n    });\n  };\n\n  const check_id = e => {\n    setShowindex(e.target.id);\n    console.log(e.target.id);\n  };\n\n  const showlist = async () => {\n    //useToken().token\n    const requesOptions = {\n      headers: {\n        \"authorization\": \"bearer \" + usetoken().getToken()\n      }\n    };\n    const response = await fetch('http://localhost:8080/api/candidates', requesOptions);\n    const responsdata = await response.json();\n    responsdata.candidates.map(p => {\n      const propertyValue = Object.entries(p);\n      SetCandidates(propertyValue);\n    });\n    users.candidates.map(o => {\n      console.log(o);\n    });\n  }; // if(!token) {\n  //     return <Login setToken={setToken} />\n  //   }\n\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 5\n    }\n  }, data.candidates.map((item, i) => {\n    return /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      id: item.id,\n      onClick: e => {\n        send_data(item.id);\n        setVisible(!visible);\n        check_id(e);\n      },\n      style: {\n        width: '50%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 21\n      }\n    }, \"full name: \", item.first_name + \" \" + item.last_name, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 20\n      }\n    }, \"job_title:\", item.job_title), \"avatar:\", item.avatar, visible ? '' : '', visible && /*#__PURE__*/React.createElement(Candidate, {\n      send_data: array,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 13\n      }\n    })));\n  }));\n}","map":{"version":3,"sources":["C:/Users/מרקובסקי/Desktop/react_app/src/Components/list_candidates.js"],"names":["React","useState","useEffect","data","Candidate","usetoken","Login","Candid","token","getToken","console","log","window","location","replace","users","SetCandidates","array","setIArray","visible","setVisible","showbutton","setShow","showindex","setShowindex","id","setId","send_data","item","candidates","map","value","i","propertyValues","Object","entries","check_id","e","target","showlist","requesOptions","headers","response","fetch","responsdata","json","p","propertyValue","o","width","first_name","last_name","job_title","avatar"],"mappings":"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","sourcesContent":["import React, { useState,useEffect } from 'react';\r\nimport data from './data.json'\r\nimport Candidate from'./candidate'\r\nimport usetoken from '../usetoken';\r\nimport Login from '../Login';\r\n\r\nexport default function Candid() {\r\n    const token = usetoken().getToken();\r\n    if(!token) {    \r\n        console.log(\"aaaa\")    \r\n        window.location.replace(\"/Login\")\r\n\r\n    return;\r\n    }\r\nconst[users,SetCandidates]=useState([]);\r\nconst [array, setIArray]= useState([]);\r\nconst [visible, setVisible] = React.useState(false);\r\nconst [showbutton, setShow]=  React.useState(false);\r\nconst [showindex, setShowindex]=  useState();\r\nconst [id, setId]= useState();\r\n\r\nconst send_data=(item)=>{  \r\n  item-=1;\r\n//console.log(item)\r\n    setId(item)\r\n    data.candidates.map((value,i)=>{\r\n        if(i===item){\r\n            const propertyValues = Object.entries(value);\r\n            setIArray(propertyValues)\r\n        }\r\n    })\r\n}\r\n\r\n\r\n\r\nconst check_id=(e)=>{  \r\n  \r\n   setShowindex(e.target.id)\r\n  console.log(e.target.id)  \r\n}\r\nconst showlist=async()=>{\r\n    //useToken().token\r\n    const requesOptions = {\r\n         headers: {\"authorization\": \"bearer \" + usetoken().getToken()}\r\n     }\r\n       const response=await fetch('http://localhost:8080/api/candidates', requesOptions)\r\n       const responsdata =await response.json()\r\n\r\n       responsdata.candidates.map(p=>{\r\n        const propertyValue = Object.entries(p);\r\n        SetCandidates(propertyValue)   \r\n       })\r\n\r\n     users.candidates.map(o=>{\r\n    console.log(o)\r\n    })         \r\n     \r\n}\r\n\r\n\r\n// if(!token) {\r\n//     return <Login setToken={setToken} />\r\n//   }\r\n    \r\n    \r\n    return(\r\n    <div>\r\n\r\n    {\r\n    data.candidates.map((item,i) => {\r\n\r\n            return(\r\n                <li>\r\n                    \r\n                    <button id={item.id} onClick={(e) => {send_data(item.id);setVisible(!visible);check_id(e)}} style={{ width:'50%' }}>   \r\n                   full name: {item.first_name + \" \" +item.last_name}\r\n                   <p>job_title:{item.job_title}</p>\r\n                   avatar:{item.avatar}\r\n\r\n\r\n                    {visible ? '' : ''}\r\n\r\n                    {\r\n            visible&&\r\n            <Candidate send_data={array}/> \r\n            \r\n            }\r\n                </button > \r\n                \r\n                    \r\n                </li>\r\n                \r\n            \r\n                )\r\n        })\r\n        }\r\n        \r\n    </div>\r\n\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}