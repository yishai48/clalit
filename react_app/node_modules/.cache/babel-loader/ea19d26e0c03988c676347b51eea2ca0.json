{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\yishai\\\\Desktop\\\\shabas\\\\shbas\\\\react_app\\\\src\\\\Components\\\\Signup.js\";\nimport React, { useState } from 'react';\nimport './Login.css';\nimport { Link } from 'react-router-dom';\n\nasync function SignupUser(credentials) {\n  await fetch('http://localhost:8080/api/auth/signup', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(credentials)\n  }).then(response => {\n    if (response.status === 409) {\n      alert(\"the user is already exist\");\n    }\n\n    if (response.status === 401) {\n      alert(\"username or password is incorrect!\");\n    }\n\n    if (response.status === 200) {\n      window.location.assign(\"./Login\");\n    }\n  });\n}\n\nexport default function Signup() {\n  const [username, setUserName] = useState('');\n  const [usererror, setUerror] = useState('');\n  const [emailerror, setEmailerror] = useState('');\n  const [password, setPassword] = useState('');\n  const [email, setEmail] = useState();\n  const [passerror, setPerror] = useState('');\n\n  const onSubmit = async e => {\n    e.preventDefault();\n    const regex_email = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\n    if (username.includes('') || username.includes(\"\") || username.includes('\"')) {\n      return res.status(409).json({\n        msg: 'invalid name'\n      });\n    }\n\n    let isvalid = regex_email.test(email);\n\n    if (!isvalid) {\n      setEmailerror(\"invalid email \");\n    }\n\n    if (username.length < 3 || username.length > 20) {\n      setUerror(\"username need be least 3 charcters\");\n    }\n\n    if (password.length < 8 || password.length > 16) {\n      setPerror(\"the password need to be least 8 digits\");\n    } else {\n      const token = await SignupUser({\n        username,\n        email,\n        password\n      });\n      setEmail(\"\");\n      setPassword(\"\");\n      setUserName(\"\");\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"wrapper fadeInDown\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"formContent\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    id: \"login\",\n    className: \"fadeIn second\",\n    name: \"login\",\n    onChange: e => setUserName(e.target.value),\n    placeholder: \"user name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    id: \"login\",\n    className: \"fadeIn second\",\n    name: \"login\",\n    onChange: e => setEmail(e.target.value),\n    placeholder: \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    id: \"password\",\n    className: \"fadeIn third\",\n    name: \"login\",\n    onChange: e => setPassword(e.target.value),\n    placeholder: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    className: \"fadeIn fourth\",\n    value: \"Sign Up\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"formFooter\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    className: \"underlineHover\",\n    href: \"./Login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }\n  }, \"To Login\"))));\n}","map":{"version":3,"sources":["C:/Users/yishai/Desktop/shabas/shbas/react_app/src/Components/Signup.js"],"names":["React","useState","Link","SignupUser","credentials","fetch","method","headers","body","JSON","stringify","then","response","status","alert","window","location","assign","Signup","username","setUserName","usererror","setUerror","emailerror","setEmailerror","password","setPassword","email","setEmail","passerror","setPerror","onSubmit","e","preventDefault","regex_email","includes","res","json","msg","isvalid","test","length","token","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport './Login.css';\r\nimport { Link } from 'react-router-dom';\r\n\r\nasync function SignupUser(credentials) {\r\n  await fetch('http://localhost:8080/api/auth/signup', {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify(credentials)\r\n  })\r\n    .then(response => {\r\n      if (response.status === 409) {\r\n        alert(\"the user is already exist\")\r\n      }\r\n      if (response.status === 401) {\r\n        alert(\"username or password is incorrect!\")\r\n      }\r\n      if (response.status === 200) {\r\n        window.location.assign(\"./Login\")\r\n      }\r\n    })\r\n\r\n}\r\n\r\nexport default function Signup() {\r\n  const [username, setUserName] = useState('');\r\n  const [usererror, setUerror] = useState('');\r\n  const [emailerror, setEmailerror] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [email, setEmail] = useState();\r\n  const [passerror, setPerror] = useState('');\r\n\r\n  const onSubmit = async e => {\r\n    e.preventDefault();\r\n    const regex_email = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\r\n    if(username.includes('')||username.includes(\"\")||username.includes('\"'))\r\n    {\r\n     return res.status(409).json({\r\n       msg: 'invalid name'\r\n     });\r\n    }\r\n    let isvalid = regex_email.test(email)\r\n    if (!isvalid) {\r\n      setEmailerror(\"invalid email \")\r\n    }\r\n    if (username.length < 3 || username.length > 20) {\r\n      setUerror(\"username need be least 3 charcters\")\r\n    }\r\n    if (password.length < 8 || password.length > 16) {\r\n      setPerror(\"the password need to be least 8 digits\")\r\n    }\r\n\r\n    else {\r\n      const token = await SignupUser({\r\n        username,\r\n        email,\r\n        password\r\n      });\r\n      setEmail(\"\")\r\n      setPassword(\"\")\r\n      setUserName(\"\")\r\n    }\r\n\r\n  }\r\n\r\n\r\n\r\n  return (\r\n    <div className=\"wrapper fadeInDown\">\r\n  <div id=\"formContent\">\r\n\r\n\r\n\r\n    <form onSubmit={onSubmit}> \r\n      <input type=\"text\" id=\"login\" className=\"fadeIn second\" name=\"login\" onChange={e => setUserName(e.target.value)} placeholder=\"user name\"/>\r\n      <input type=\"text\" id=\"login\" className=\"fadeIn second\" name=\"login\"    onChange={e => setEmail(e.target.value)} placeholder=\"email\"/>\r\n      <input type=\"password\" id=\"password\" className=\"fadeIn third\" name=\"login\" onChange={e => setPassword(e.target.value)} placeholder=\"password\"/>\r\n      <input type=\"submit\" className=\"fadeIn fourth\" value=\"Sign Up\"/>\r\n    </form>\r\n    <div id=\"formFooter\">\r\n      <a className=\"underlineHover\" href=\"./Login\">To Login</a>\r\n    </div>\r\n\r\n  </div>\r\n</div>\r\n  )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}